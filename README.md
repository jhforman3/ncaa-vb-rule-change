# *Impact of the Second‑Contact Rule Change on Setter Performance, Referee Home Advantage, and Rally Dynamics in NCAA Volleyball* Manuscript Data and Code Repository

This repository contains all data and code necessary to reproduce the analyses and tables in the manuscript.

## Contents

-   `RawData`: 30 raw CSV files of match-, team-, and player-level data for both the 2022–23 and 2023–24 seasons, across five sex–division combinations. These files represent aggregations of all individual box scores from that sex-division-season. There is also a sub-folder (Conferences) which contains 10 matching listing of teams by sex-division-season used in assigning NCAA divisions (and conferences, though that is not used in the current study).

-   `WorkingData`: The `analysis_ready_files.zip` file contains three processed CSV files: `analysis_ready_matches.csv`, `analysis_ready_teams.csv`, `analysis_ready_players.csv`), which were generated by the DataPrep script.

-   `Code`:

    -   `DataPrep.R`: R script that reads the raw data, cleans and aggregates it, and saves the working CSVs.

    -   `FullOutput.Rmd`: R Markdown file that loads the working data and generates all tables and figures in the manuscript, with additional elements for reference.

-   `README.md`: This file.

-   `LICENSE.txt`: License information for data and code reuse.

## Environment

-   **R version:** 4.4.2

-   **Key R packages:**

    -   **tidyverse** 2.0.0
        -   ggplot2 3.5.1
        -   dplyr 1.1.4
        -   tidyr 1.3.1
        -   stringr 1.5.1
        -   readr 2.1.5
        -   purrr 1.0.2
        -   forcats 1.0.0
    -   lubridate 1.9.4
    -   broom 1.0.7
    -   fixest 0.12.1
    -   glue 1.8.0
    -   scales 1.3.0
    -   knitr 1.49
    -   kableExtra 1.4.0
    -   tibble 3.2.1

## Usage

1.  **Download** the full `Data` folder to your working directory.

2.  **Generate working data**:

    ```         
    Rscript: Code/DataPrep.R 
    ```

    Ensure you have the correct base_path and conferences_dir input directories defined near the top of the script, and the output_base_path directory near the bottom. This will read all files in `RawData` and output:

    -   `analysis_ready_matches.csv`
    -   `analysis_ready_teams.csv`
    -   `analysis_ready_players.csv`

    Note that Data Integrity Checks begin at approximately Row 150. The code includes all the checks run with notes on actual removals and production of tables you can review where judgement came into play. Please be aware that the last line of code cleans up the Global Environment such that only the three core data frames remain, so if you want to examine the Data Integrity Checks, you'll want to do them step-wise.

    Alternatively: If you wish to skip the data preparation process, download and unzip `analysis_ready_files.zip` into your working directory.

4.  **Render tables and figures**:

    ```         
    Rscript: Code/FullOutput.Rmd 
    ```

    Ensure you have the correct data_path for the three working files defined near the top of the script. This will produce all manuscript tables and figures.

## License

-   Data are licensed under [CC BY 4.0](LICENSE.txt).\
-   Code is licensed under the [MIT License](LICENSE.txt).

## Citation

Please cite this dataset and code repository as:

> Forman, J. (2025). Data and code for “Impact of the Second‑Contact Rule Change on Setter Performance, Referee Home Advantage, and Rally Dynamics in NCAA Volleyball”. Zenodo. DOI: XXXXXXX

Replace XXXXXXX with the Zenodo DOI once published.

## Contact

For questions or issues, please contact:

-   **Name**: John Forman

-   **Email**: [[jhforman3\@gmail.com](mailto:jhforman3@gmail.com)]
